# Swarm Provenance Uploader

A CLI toolkit to wrap data files within a metadata structure
and upload them to the Swarm network via a Bee gateway.

## Setup

1. Create and activate a virtual environment.
   ```bash
    python -m venv .venv
    source .venv/bin/activate
    # Or on Windows: .\venv\Scripts\activate
   ```
2. Copy `.env.example` to `.env` and adjust values if needed.
   ```bash
    cp .env.example .env
   ```
3. Install in editable mode, including testing dependencies:
    ```bash
    pip install -e .[testing]
    ```

## Configure

Copy .env.example to .env.
Ensure you have a Bee node running and that BEE_GATEWAY_URL in .env points to it.

## Run Tests

(Requires a local Bee node, OR relies on Mocks):
The sample test above mocks the network calls, so it will run without a live Bee node.

```
pytest
``` 

## Usage

```bash
# Upload data to Swarm
swarm-prov-upload upload --file /path/to/your/prov_file.txt --std "PROV-STD-V1" --verbose

# Download and verify data from Swarm
swarm-prov-upload download <swarm_hash> --output-dir ./downloads --verbose
```
Use `swarm-prov-upload --help` for all options.

## Architecture & Features

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           SWARM PROVENANCE UPLOADER                            â”‚
â”‚                              Architecture Diagram                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                CLI INTERFACE                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ swarm-prov-     â”‚  â”‚ UPLOAD COMMAND   â”‚  â”‚ DOWNLOAD COMMAND                â”‚ â”‚
â”‚  â”‚ upload --help   â”‚  â”‚ --file (req)     â”‚  â”‚ <swarm_hash> (req)             â”‚ â”‚
â”‚  â”‚                 â”‚  â”‚ --std            â”‚  â”‚ --output-dir                   â”‚ â”‚
â”‚  â”‚ Built with:     â”‚  â”‚ --enc            â”‚  â”‚ --verbose                      â”‚ â”‚
â”‚  â”‚ â€¢ Typer CLI     â”‚  â”‚ --gateway-url    â”‚  â”‚ --gateway-url                  â”‚ â”‚
â”‚  â”‚ â€¢ Rich output   â”‚  â”‚ --stamp-*        â”‚  â”‚                                â”‚ â”‚
â”‚  â”‚ â€¢ Auto help     â”‚  â”‚ --verbose        â”‚  â”‚                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              CORE BUSINESS LOGIC                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ FILE_UTILS.PY     â”‚  â”‚ METADATA_       â”‚  â”‚ SWARM_CLIENT.PY              â”‚  â”‚
â”‚  â”‚                   â”‚  â”‚ BUILDER.PY      â”‚  â”‚                              â”‚  â”‚
â”‚  â”‚ â€¢ File I/O        â”‚  â”‚                 â”‚  â”‚ â€¢ HTTP client wrapper       â”‚  â”‚
â”‚  â”‚ â€¢ SHA256 hashing  â”‚  â”‚ â€¢ Pydantic      â”‚  â”‚ â€¢ Stamp purchasing           â”‚  â”‚
â”‚  â”‚ â€¢ Base64 encode   â”‚  â”‚   validation    â”‚  â”‚ â€¢ Stamp status checking      â”‚  â”‚
â”‚  â”‚ â€¢ Base64 decode   â”‚  â”‚ â€¢ JSON          â”‚  â”‚ â€¢ Data upload/download       â”‚  â”‚
â”‚  â”‚ â€¢ Size calculationâ”‚  â”‚   serialization â”‚  â”‚ â€¢ Error handling             â”‚  â”‚
â”‚  â”‚ â€¢ Error handling  â”‚  â”‚ â€¢ Metadata      â”‚  â”‚ â€¢ Retry logic                â”‚  â”‚
â”‚  â”‚                   â”‚  â”‚   wrapping      â”‚  â”‚ â€¢ Debug logging              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             DATA MODELS & CONFIG                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ MODELS.PY                       â”‚  â”‚ CONFIG.PY                           â”‚  â”‚
â”‚  â”‚                                 â”‚  â”‚                                     â”‚  â”‚
â”‚  â”‚ ProvenanceMetadata (Pydantic):  â”‚  â”‚ Environment Configuration:          â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â€¢ BEE_GATEWAY_URL                  â”‚  â”‚
â”‚  â”‚ â”‚ â€¢ data: str (Base64)        â”‚ â”‚  â”‚ â€¢ DEFAULT_POSTAGE_DEPTH            â”‚  â”‚
â”‚  â”‚ â”‚ â€¢ content_hash: str (SHA256)â”‚ â”‚  â”‚ â€¢ DEFAULT_POSTAGE_AMOUNT           â”‚  â”‚
â”‚  â”‚ â”‚ â€¢ stamp_id: str (64 hex)    â”‚ â”‚  â”‚ â€¢ .env file support                â”‚  â”‚
â”‚  â”‚ â”‚ â€¢ provenance_standard: str? â”‚ â”‚  â”‚ â€¢ Type validation                  â”‚  â”‚
â”‚  â”‚ â”‚ â€¢ encryption: str?          â”‚ â”‚  â”‚ â€¢ Default fallbacks                â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚                                     â”‚  â”‚
â”‚  â”‚                                 â”‚  â”‚                                     â”‚  â”‚
â”‚  â”‚ â€¢ JSON schema validation        â”‚  â”‚                                     â”‚  â”‚
â”‚  â”‚ â€¢ Auto serialization            â”‚  â”‚                                     â”‚  â”‚
â”‚  â”‚ â€¢ Type hints throughout         â”‚  â”‚                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                UPLOAD WORKFLOW                                 â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ 1. READ     â”‚â”€â”€â”€â–¶â”‚ 2. HASH &   â”‚â”€â”€â”€â–¶â”‚ 3. PURCHASE â”‚â”€â”€â”€â–¶â”‚ 4. WRAP &   â”‚     â”‚
â”‚  â”‚    FILE     â”‚    â”‚    ENCODE   â”‚    â”‚    STAMP    â”‚    â”‚    UPLOAD   â”‚     â”‚
â”‚  â”‚             â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚     â”‚
â”‚  â”‚ â€¢ File I/O  â”‚    â”‚ â€¢ SHA256    â”‚    â”‚ â€¢ HTTP POST â”‚    â”‚ â€¢ Metadata  â”‚     â”‚
â”‚  â”‚ â€¢ Validate  â”‚    â”‚ â€¢ Base64    â”‚    â”‚ â€¢ Wait loop â”‚    â”‚ â€¢ JSON wrap â”‚     â”‚
â”‚  â”‚ â€¢ Read raw  â”‚    â”‚ â€¢ Size calc â”‚    â”‚ â€¢ Retry     â”‚    â”‚ â€¢ HTTP POST â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                                 â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                              â”‚ 5. RETURN HASH  â”‚                               â”‚
â”‚                              â”‚                 â”‚                               â”‚
â”‚                              â”‚ â€¢ Swarm ref     â”‚                               â”‚
â”‚                              â”‚ â€¢ 64-char hex   â”‚                               â”‚
â”‚                              â”‚ â€¢ Success msg   â”‚                               â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               DOWNLOAD WORKFLOW                                â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ 1. FETCH    â”‚â”€â”€â”€â–¶â”‚ 2. PARSE &  â”‚â”€â”€â”€â–¶â”‚ 3. DECODE & â”‚â”€â”€â”€â–¶â”‚ 4. VERIFY & â”‚     â”‚
â”‚  â”‚    METADATA â”‚    â”‚    VALIDATE â”‚    â”‚    EXTRACT  â”‚    â”‚    SAVE     â”‚     â”‚
â”‚  â”‚             â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚     â”‚
â”‚  â”‚ â€¢ HTTP GET  â”‚    â”‚ â€¢ JSON      â”‚    â”‚ â€¢ Base64    â”‚    â”‚ â€¢ SHA256    â”‚     â”‚
â”‚  â”‚ â€¢ Error     â”‚    â”‚ â€¢ Pydantic  â”‚    â”‚ â€¢ Extract   â”‚    â”‚ â€¢ Compare   â”‚     â”‚
â”‚  â”‚   handling  â”‚    â”‚ â€¢ Schema    â”‚    â”‚ â€¢ Raw bytes â”‚    â”‚ â€¢ Save both â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                                 â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                              â”‚ 5. SUCCESS      â”‚                               â”‚
â”‚                              â”‚                 â”‚                               â”‚
â”‚                              â”‚ â€¢ .data file    â”‚                               â”‚
â”‚                              â”‚ â€¢ .meta.json    â”‚                               â”‚
â”‚                              â”‚ â€¢ Verification  â”‚                               â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              SWARM NETWORK LAYER                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ BEE NODE (LOCAL/REMOTE)         â”‚  â”‚ SWARM NETWORK                       â”‚  â”‚
â”‚  â”‚                                 â”‚  â”‚                                     â”‚  â”‚
â”‚  â”‚ API Endpoints:                  â”‚  â”‚ â€¢ Decentralized storage             â”‚  â”‚
â”‚  â”‚ â€¢ /health - Node status         â”‚  â”‚ â€¢ Content-addressable               â”‚  â”‚
â”‚  â”‚ â€¢ /stamps/{amount}/{depth}      â”‚  â”‚ â€¢ Redundant & persistent            â”‚  â”‚
â”‚  â”‚ â€¢ /stamps/{id} - Check status   â”‚  â”‚ â€¢ Cryptographic integrity           â”‚  â”‚
â”‚  â”‚ â€¢ /bzz - Upload/download        â”‚  â”‚ â€¢ Economic incentives               â”‚  â”‚
â”‚  â”‚ â€¢ /wallet - Balance info        â”‚  â”‚ â€¢ Censorship resistant              â”‚  â”‚
â”‚  â”‚ â€¢ /chequebook - Bandwidth       â”‚  â”‚                                     â”‚  â”‚
â”‚  â”‚                                 â”‚  â”‚                                     â”‚  â”‚
â”‚  â”‚ Requirements:                   â”‚  â”‚                                     â”‚  â”‚
â”‚  â”‚ â€¢ Running Bee node              â”‚  â”‚                                     â”‚  â”‚
â”‚  â”‚ â€¢ Funded wallet (BZZ tokens)    â”‚  â”‚                                     â”‚  â”‚
â”‚  â”‚ â€¢ Network connectivity          â”‚  â”‚                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                KEY FEATURES                                    â”‚
â”‚                                                                                 â”‚
â”‚  ğŸ”’ SECURITY & INTEGRITY           ğŸ“¦ DATA PROCESSING                          â”‚
â”‚  â€¢ SHA256 content verification    â€¢ Base64 encoding/decoding                  â”‚
â”‚  â€¢ Cryptographic hashing          â€¢ JSON metadata wrapping                    â”‚
â”‚  â€¢ Immutable storage              â€¢ Pydantic data validation                  â”‚
â”‚  â€¢ Tamper detection               â€¢ Type-safe operations                      â”‚
â”‚                                                                                 â”‚
â”‚  ğŸŒ DECENTRALIZED STORAGE          âš™ï¸  OPERATIONAL                             â”‚
â”‚  â€¢ Swarm network integration      â€¢ Verbose/concise modes                     â”‚
â”‚  â€¢ Content-addressable            â€¢ Comprehensive error handling              â”‚
â”‚  â€¢ Censorship resistant           â€¢ Retry logic with backoff                  â”‚
â”‚  â€¢ Persistent & redundant         â€¢ Environment configuration                 â”‚
â”‚                                                                                 â”‚
â”‚  ğŸ·ï¸  PROVENANCE METADATA           ğŸ§ª TESTING & RELIABILITY                   â”‚
â”‚  â€¢ Standard identifier support    â€¢ Mock-based test suite                     â”‚
â”‚  â€¢ Optional encryption details    â€¢ No live node required for tests           â”‚
â”‚  â€¢ Bidirectional operations       â€¢ Comprehensive CLI testing                 â”‚
â”‚  â€¢ Metadata preservation          â€¢ CI/CD ready                               â”‚
â”‚                                                                                 â”‚
â”‚  ğŸ”— POSTAGE STAMP SYSTEM           ğŸ“Š MONITORING & DEBUGGING                   â”‚
â”‚  â€¢ Economic spam prevention       â€¢ Detailed verbose output                   â”‚
â”‚  â€¢ TTL-based data persistence     â€¢ HTTP request/response logging             â”‚
â”‚  â€¢ Automatic stamp validation     â€¢ Progress indicators                       â”‚
â”‚  â€¢ Configurable parameters        â€¢ Error context & suggestions               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               TECHNOLOGY STACK                                 â”‚
â”‚                                                                                 â”‚
â”‚  ğŸ CORE TECHNOLOGIES              ğŸ“š KEY LIBRARIES                            â”‚
â”‚  â€¢ Python 3.8+                    â€¢ Typer - CLI framework                     â”‚
â”‚  â€¢ Modular architecture           â€¢ Pydantic v2 - Data validation             â”‚
â”‚  â€¢ Type hints throughout          â€¢ Requests - HTTP client                    â”‚
â”‚  â€¢ Async-ready design             â€¢ Python-dotenv - Config management         â”‚
â”‚                                                                                 â”‚
â”‚  ğŸ”§ DEVELOPMENT TOOLS              ğŸ§ª TESTING FRAMEWORK                        â”‚
â”‚  â€¢ Virtual environment            â€¢ Pytest - Test runner                      â”‚
â”‚  â€¢ Editable installation          â€¢ Pytest-mock - Mocking utilities           â”‚
â”‚  â€¢ Environment configuration      â€¢ Requests-mock - HTTP mocking              â”‚
â”‚  â€¢ Rich CLI output                â€¢ No external dependencies for tests        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

This architecture diagram shows the **Swarm Provenance Uploader** as a layered system that:

1. **CLI Layer**: Provides user-friendly commands with rich help and validation
2. **Core Logic**: Handles file processing, metadata creation, and Swarm communication
3. **Data Models**: Ensures type safety and validation with Pydantic schemas
4. **Network Layer**: Interfaces with Bee nodes and the Swarm decentralized network

**Key Strengths**:
- âœ… **Bidirectional operations** (upload/download)
- âœ… **Integrity verification** (SHA256 hashing)
- âœ… **Metadata preservation** (provenance standards)
- âœ… **Decentralized storage** (Swarm network)
- âœ… **Production ready** (error handling, retries, logging)

## Project Directory Structure

```
swarm_provenance_uploader/
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ README.md
â”œâ”€â”€ swarm_provenance_uploader/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ cli.py
â”‚   â”œâ”€â”€ config.py
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ file_utils.py
â”‚   â”‚   â”œâ”€â”€ metadata_builder.py
â”‚   â”‚   â””â”€â”€ swarm_client.py
â”‚   â””â”€â”€ models.py
â””â”€â”€ tests/
    â”œâ”€â”€ __init__.py
    â””â”€â”€ test_cli.py
```

